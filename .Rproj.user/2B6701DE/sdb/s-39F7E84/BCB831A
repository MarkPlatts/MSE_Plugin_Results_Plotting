{
    "collab_server" : "",
    "contents" : "setwd(\"C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/\")\nsource(\"Calc_average_quota_per_fleet_group_regulation.R\")\n\nprint(Sys.time())\n\n#Test\nTest__Check_Average_Quota_across_models_4_AdultCod_Fleet1_HighestValue = function()\n{\n  #Input data:\n  Group_Cod = \"Cod (adult)\"\n  Fleet_DemersalTrawl = \"FleetNo1\"\n  StrategyType_Highest_Value = \"Highest value\"\n  Test_Path = \"C:/Users/Mark/Dropbox/GAP2_MSE Plugin2/R Code/TestFolder_R_Plotting_MSE_Plugin/withBiomassForcing_Yearly_Results HCR type1 and 3/Results/\"\n  \n  #Test:\n  Cod_adult_Average_Across_Quota = Average_Quota_Across_Models_And_RegTypes(Group_Cod,Fleet_DemersalTrawl,StrategyType_Highest_Value,Test_Path)\n  Correct = c(0.0562363408,\t0.0691622814,\t0.0740509911,\t0.0683924373,\t0.0587781737,\t0.0484810997,\t0.0413565884,\t0.0390158918,\t0.0417923933,\t0.0486157672,\t0.0489791314,\t0.0408512426,\t0.0334640422,\t0.028770516,\t0.0250194448,\t0.0224817797,\t0.0219612043,\t0.021143502,\t0.0180477091,\t0.0148551648)\n  \n  #Outcome\n  if(sum(Cod_adult_Average_Across_Quota!=Correct)>0){\n    print(\"Test__Check_Average_Quota_across_models_4_AdultCod_Fleet1_HighestValue FAILED\")\n    #print(paste(\"Cod_adult_Average_Across_Quota = \", Cod_adult_Average_Across_Quota))\n    #print(paste(\"Correct = \", Correct))\n  } else{\n    print(\"Test__Check_Average_Quota_across_models_4_AdultCod_Fleet1_HighestValue PASSED\")\n  }\n}\n\n\n#Test\nTest__LoadFile_ContainsListStrings = function()\n{\n  #Input data:\n  Group_Skate_and_Ray = \"Targ_Skate + cuckoo ray\"\n  Fleet_GearsUsingHooks = \"FleetNo7\"\n  Test_Path = \"C:/Users/Mark/Dropbox/GAP2_MSE Plugin2/R Code/TestFolder_R_Plotting_MSE_Plugin/withBiomassForcing_Yearly_Results HCR type1 and 3/Results/HCRQuota_Targ/\"\n  \n  #Test:\n  ResultFile = LoadFile_ContainsListStrings(Dir.Path = Test_Path, StringsInFileName = c(Group_Skate_and_Ray,Fleet_GearsUsingHooks))\n  CorrectFile = read.csv(\"C:/Users/Mark/Dropbox/GAP2_MSE Plugin2/R Code/TestFolder_R_Plotting_MSE_Plugin/withBiomassForcing_Yearly_Results HCR type1 and 3/Results/HCRQuota_Targ/HCR_Quota_Targ_Skate + cuckoo ray_GroupNo12_FleetNo7.csv\",skip=7, head=T)\n  #Outcome\n  if(ResultFile!=CorrectFile){\n    print(\"Test__LoadFile_ContainsListStrings FAILED\")\n  } else{\n    print(\"Test__LoadFile_ContainsListStrings PASSED\")\n  }\n}\n\n#Test\nTest__StringContains_StringDoesNotExist = function()\n{\n  #input:\n  FileName = \"HCR_Quota_Targ_Benthic microflora (incl Bacteria protozoa))_GroupNo63_FleetNo3\"\n  String2test = \"Hello\"\n  \n  #Test:\n  Outcome = StringContains(FileName, String2test)\n  \n  #Results\n  if (Outcome==TRUE){\n    print(\"Test__StringContains_StringDoesNotExist FAILED!\")\n  }\n  if (Outcome==FALSE){\n    print(\"Test__StringContains_StringDoesNotExist PASSED!\")\n  }\n  \n}\n\n\nTest__StringContains_StringDoesExist = function()\n{\n  #Input:\n  FileName = \"HCR_Quota_Targ_Benthic microflora (incl Bacteria protozoa))_GroupNo63_FleetNo3\"\n  String2test = \"Benthic microflora (incl Bacteria protozoa)\"\n  \n  #Test:\n  Outcome = StringContains(FileName, String2test)\n  \n  #Result:\n  if (Outcome==TRUE){\n    print(\"Test__StringContains_StringDoesNotExist PASSED!\")\n  }\n  if (Outcome==FALSE){\n    print(\"Test__StringContains_StringDoesNotExist FAILED!\")\n  }\n}\n\nTest__StringContains_AllStrings_StringsDoExist_FindsThem = function()\n{\n  #Input\n  MultipleStringsVector = c(\"Hello\", \"Goodbye\")\n  String_Containing_String1_and_String2 = \"Hello John, its very nice to meet you, Sorry I cant stop. Goodbye John\"\n  \n  #Test:\n  Outcome = StringContains_AllStrings(ContainingString = String_Containing_String1_and_String2,\n                                      MultipleStrings2Check = MultipleStringsVector)\n    \n  #Result:\n  if(Outcome == FALSE){\n    print(\"Test__StringContains_AllStrings_StringsDoExist_Finds_Them FAILED!\")\n  }\n  if(Outcome == TRUE){\n    print(\"Test__StringContains_AllStrings_StringsDoExist_Finds_Them PASSED!\")\n  }\n}\n\nTest__StringContains_AllStrings_StringsDontExist_DoesNotFindThem = function()\n{\n  #Input\n  MultipleStringsVector = c(\"Hello\", \"Goodbye\")\n  String_Containing_String1_and_String2 = \"Hello John, its very nice to meet you, Sorry I cant stop. John\"\n  \n  #Test:\n  Outcome = StringContains_AllStrings(ContainingString = String_Containing_String1_and_String2,\n                                      MultipleStrings2Check = MultipleStringsVector)\n  #Result:\n  if(Outcome == TRUE){\n    print(\"Test__StringContains_AllStrings_StringsDontExist_DoesNotFindThem FAILED!\")\n  }\n  if(Outcome == FALSE){\n    print(\"Test__StringContains_AllStrings_StringsDontExist_DoesNotFindThem PASSED!\")\n  }\n}\n\n\nTest__SubsetVectorStrings_ContainingString__Finds_All_Highest_Value = function()\n{\n\n  #Input\n  UniqueStrategies = Load_Strategies(\"../TestInput/UniqueStrategies.csv\")\n  Regulation_HighestValue = \"Highest value\"\n  CorrectStrategies = as.vector(Load_Strategies(\"../CorrectResults/Highest_value_Strategies.csv\"))\n  \n  #Test:\n  Outcome = SubsetVectorStrings_ContainingString(UniqueStrategies, Regulation_HighestValue)\n\n  #Result:\n  if(All_Vector_Indices_Identical(Outcome, CorrectStrategies)){\n    print(\"Test__SubsetVectorStrings_ContainingString__Finds_All_Highest_Value PASSED!\")\n  } else {\n    print(\"Test__SubsetVectorStrings_ContainingString__Finds_All_Highest_Value FAILED!\")\n  }\n}\n\n\nTest__LoadUniqueStrategies__SameUniqueFile = function()\n{\n  \n  #Input\n  Outcome = LoadUniqueStrategies(GetResultsLocation())\n  \n  #Test:\n  CorrectStrategies = as.vector(Load_Strategies(\"../TestInput/UniqueStrategies.csv\"))\n  #Result:\n  if(All_Vector_Indices_Identical(Outcome, CorrectStrategies)){\n    print(\"Test__LoadUniqueStrategies__SameUniqueFile PASSED!\")\n  } else {\n    print(\"Test__LoadUniqueStrategies__SameUniqueFile FAILED!\")\n  }\n}\n\n\n\n\n\n# Testing_Helper_Methods --------------------------------------------------\n\n#Load the strategies from uniquestrategies file to save having to load a big file up\nLoad_Strategies = function(path2strats)\n{\n  return(as.matrix(read.csv(FileLocation(path2strats))))\n}\n\nFileLocation = function(branch)\n{\n  ResultsPath = \"C:/Users/Mark/Dropbox/GAP2_MSE Plugin2/R Code/TestFolder_R_Plotting_MSE_Plugin/withBiomassForcing_Yearly_Results HCR type1 and 3/Results/\"\n  return(paste(ResultsPath,branch,sep=\"\"))\n}\n\nGetResultsLocation = function()\n{\n  return(\"C:/Users/Mark/Dropbox/GAP2_MSE Plugin2/R Code/TestFolder_R_Plotting_MSE_Plugin/withBiomassForcing_Yearly_Results HCR type1 and 3/Results/\")\n}\n\n#Check all indices of a vector are identical\nAll_Vector_Indices_Identical = function(vec1, vec2)\n{\n  if(is.null(vec1) | is.null(vec2)) return (FALSE)\n  return(sum(vec1!=vec2)==0)\n}\n\n\n# Run Tests ---------------------------------------------------------------\nTest__LoadUniqueStrategies__SameUniqueFile()\nTest__SubsetVectorStrings_ContainingString__Finds_All_Highest_Value()\nTest__StringContains_AllStrings_StringsDontExist_DoesNotFindThem()\nTest__StringContains_AllStrings_StringsDoExist_FindsThem()\n#Test__Check_Average_Quota_across_models_4_AdultCod_Fleet1_HighestValue()\nTest__LoadFile_ContainsListStrings()\nTest__StringContains_StringDoesNotExist()\nTest__StringContains_StringDoesExist()\n\n",
    "created" : 1481643653158.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1894047522",
    "id" : "BCB831A",
    "lastKnownWriteTime" : 1481662785,
    "last_content_update" : 1481662785209,
    "path" : "C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/Tests.R",
    "project_path" : "Tests.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}