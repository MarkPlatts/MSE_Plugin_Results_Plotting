{
    "collab_server" : "",
    "contents" : "source(\"C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/share_tools.R\")\n\n###Value Trajectories\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nplot_effort_trajectories <- function(params){\n  \n  #reset the director\n  #setwd(paste(params$RootPath,\"\\\\Effort\", sep=''))\n  \n  #initialise plotting params\n  plotting_params = initialise_plotting_params(\"Effort\", params)\n  \n  for(G in plotting_params$g){\n    \n    #Get the filename to be used to check whether yearly in name, to name files of plots and to add text to plots\n    FILENAME = substr(G,1,nchar(G)-4)\n    \n    #Check whether we should plot the yearly files or the monthly files\n    if(IsIncorrectFileType_YearlyMonthly(FILENAME, params$Plot_yearly_files)) next\n    \n    #Checks whether the fleet is designated to be plotted\n    DontPlot = TRUE\n    for(iFleet in params$Fleets2Plot){\n      if (length(grep(paste(iFleet,\".csv\", sep=''), G, fixed=TRUE))==1) {\n        DontPlot=FALSE\n        break\n      }\n    }\n    if (DontPlot==TRUE) next\n    \n    png(filename = paste(params$plot.path,\"\\\\OUTPUT_GEARSbySTRATEGIES\\\\\",FILENAME,\"_PERCS.png\",sep=\"\"), res=900, width=8, height=4, units='in')\n    #Load the data from the file represented by G\n    #browser()\n    plotting_params$dat<-read.csv(paste(params$RootPath,\"/Effort/\",G, sep=''),skip=7, head=T)\n    \n    #timeseries of FLEET effort by FleetNumber 1:12 for the 10 strategies\n    #if(!params$plot_each_timestep & !params$Plot_yearly_files) dat<-dat[,c(1:3,4+seq(1,params$nyrs*12,12))] \n    names(plotting_params$dat)[names(plotting_params$dat)==\"StrategyName\"]  <- \"Strategy\"\n    \n    #Calculate the values to be plotted\n    plotting_params = calc_vals_for_plotting(params, plotting_params)\n    \n    #Setup for plotting\n    par(mar=c(5.1, 4.1, 4.1, 12), xpd=TRUE)\n\n    #Do the plotting and add annotation\n    plot(plotting_params$TimeStepVals,plotting_params$MEANS[,2],type='l',ylim=c(0,1.25*(max(plotting_params$MEANS[,-1]))),lty=params$LTY[1],col=params$COL[1],ylab=\"Relative effort\",xlab=\"year\",font=20,lwd=params$lineweight)\n    for(i in 3:ncol(plotting_params$MEANS)) {\n      lines(plotting_params$TimeStepVals,plotting_params$MEANS[,i],lty=params$LTY[(i-1)],col=params$COL[(i-1)],lwd=params$lineweight)\n    }\n    title(FILENAME,font.main=20)\n    if(params$LEGEND){\n        #legend('topright',params$strats,col = params$COL,lty =params$LTY,inset=c(-0.5,0),lwd=1,text.font=3,pt.cex = 1,cex=0.5)\n        legend('topright',params$strats,col = params$COL,lty =params$LTY,inset=c(params$legend_x_inset2,-0.2),lwd=1,text.font=3,pt.cex = 1,cex=0.5)\n    }\n    \n    graphics.off()\n    \n  } \n}",
    "created" : 1485351979570.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2361266107",
    "id" : "5C6AADAA",
    "lastKnownWriteTime" : 1484229505,
    "last_content_update" : 1484229505,
    "path" : "C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/Effort_Trajectories.R",
    "project_path" : "Effort_Trajectories.R",
    "properties" : {
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}