#bpa = read_biom_refs(biom_refs, GroupName, "bpa") * 570
#blim = read_biom_refs(biom_refs, GroupName, "blim") * 570
#create table of values ready for plotting
risk_reward_tab = data.frame()
for (iLine in 1:nrows(plotting_params$dat)){
ModelID = plotting_params$dat[iLine,2]
StrategyName = plotting_params$dat[iLine,3]
GroupName = plotting_params$dat[iLine,1]
average5yearbiomass = plotting_params$dat[iLine,(ncols(plotting_params$dat)-4):(ncols(plotting_params$dat))]
#average5yearcatch
}
#now summary plot
#par(mar=c(5.1, 4.1, 4.1, 20), xpd=TRUE)
#par(mar=c(5.1, 4.1, 4.1, 16), xpd=TRUE)
#figure out what the highest value the y-axis needs to be
#if(!is.na(bpa)){
#   y_upper = max(plotting_params$MEANS[,-1],plotting_params$UPPS[,-1],bpa)
# } else {
#   y_upper = max(plotting_params$MEANS[,-1],plotting_params$UPPS[,-1])
# }
# #Plot a strategy results
# if(params$PLOT_CONFIDENCE_INTERVALS){
#   plot(plotting_params$TimeStepVals,plotting_params$MEANS[,2],type='l',ylim=c(0,1.25*y_upper),lty=params$LTY[1],col=params$COL[1],ylab="relative biomass (t)",xlab="year",font=20,lwd=params$lineweight)
#   for(i in 3:ncol(plotting_params$MEANS)) {
#     lines(plotting_params$TimeStepVals,plotting_params$MEANS[,i],lty=params$LTY[(i-1)],col=params$COL[(i-1)],lwd=params$lineweight)
#   }
#   for(i in 2:(ncol(plotting_params$LOWS)-1)) {
#     #browser()
#     lines(plotting_params$TimeStepVals,plotting_params$LOWS[,i],lty=params$LTY[(i)],col=params$COL[(i-1)],lwd=params$lineweight*0.5)
#     lines(plotting_params$TimeStepVals,plotting_params$UPPS[,i],lty=params$LTY[(i)],col=params$COL[(i-1)],lwd=params$lineweight*0.5)
#   }
# } else {
#   plot(plotting_params$TimeStepVals,plotting_params$MEANS[,2],type='l',ylim=c(0,1.25*y_upper),lty=params$LTY[1],col=params$COL[1],ylab="relative biomass (t)",xlab="year",font=20,lwd=params$lineweight)
#   for(i in 2:ncol(plotting_params$MEANS)) {
#     lines(plotting_params$TimeStepVals,plotting_params$MEANS[,i],lty=params$LTY[(i-1)],col=params$COL[(i-1)],lwd=params$lineweight)
#   }
# }
#plot the reference points
# if(!is.na(bpa)){
#   lines(c(plotting_params$TimeStepVals[1],plotting_params$TimeStepVals[length(plotting_params$TimeStepVals)]),c(bpa,bpa),col=1,lwd=0.5, lty=3)
#   text(plotting_params$TimeStepVals[1]+1, bpa+0.05*y_upper, "Bpa", cex=0.5)
# }
# if(!is.na(blim)){
#   lines(c(plotting_params$TimeStepVals[1],plotting_params$TimeStepVals[length(plotting_params$TimeStepVals)]),c(blim,blim),col=1,lwd=0.5, lty=3)
#   text(plotting_params$TimeStepVals[1]+1, blim+0.05*y_upper, "Blim", cex=0.5)
# }
#
# #Add a title and legend
# title(c("Biomass trajectory (mean) by strategy",FILENAME),font.main=20)#only individual plots
# if(params$LEGEND){
#   legend('topright',params$strats,col = params$COL,lty =params$LTY,inset=c(-0.72,-0.2),lwd=1,text.font=3,pt.cex = 1,cex=0.5)
# }
}
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
head(dat)
library(reshape)
install.packages("reshape")
library(reshape)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
str(dat)
head(melt(dat, id=c("GroupName","ModelID","StrategyName","ResultType")))
head(melt(dat, id=c("GroupName","ModelID","StrategyName","ResultType")),30)
head(melt(dat, id=c("GroupName","ModelID","StrategyName","ResultType")),10)
head(melt(dat, id=c("GroupName","ModelID","StrategyName","ResultType")),100)
tail(melt(dat, id=c("GroupName","ModelID","StrategyName","ResultType")),100)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
names(dat)
names(dat)[1:4]
c(names(dat)[1:4],1:43)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
head(dat)
head(data)
head(dat)
head(data
head(dat)
str(dat)
library(dplyr)
filter(dat, ModelID == 2, StrategyName == "1 CFP_2015 TargetF_Weakest stock")
filter(dat, ModelID == 3, StrategyName == "1 CFP_2015 TargetF_Weakest stock")
filter(dat, ModelID == 4, StrategyName == "1 CFP_2015 TargetF_Weakest stock")
filter(dat, ModelID == 5, StrategyName == "1 CFP_2015 TargetF_Weakest stock")
unique(dat$ModelID)
filter(dat, ModelID == 6, StrategyName == "1 CFP_2015 TargetF_Weakest stock")
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
filter_dat
1==1:10
any(1==1:10)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
filter_dat
iModel
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
filter_dat
iModel
iStrat
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
filter_dat
filter(filter_dat, variable==43)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
filter(filter_dat, variable==43)
create_riskreward_table()
filter(filter_dat, variable==43)
filter(filter_dat, variable==39:43)
filter(filter_dat, any(variable==39:43))
filter(filter_dat, variable==c(39:43))
filter(filter_dat, variable=>39
filter(filter_dat, variable=>39)
filter(filter_dat, variable>=39)
summarise(filter_dat)
filter_dat %>% summarise(Last5YearAverage = mean(value))
filter_dat %>% group_by(GroupName,ModelID,StrategyName,ResultType) %>% summarise(Last5YearAverage = mean(value))
filter_dat %>% group_by(GroupName) %>% summarise(Last5YearAverage = mean(value))
filter_dat %>% group_by(GroupName,ModelID) %>% summarise(Last5YearAverage = mean(value))
filter_dat %>% group_by(GroupName,ModelID,StrategyName,ResultType) %>% summarise(Last5YearAverage = mean(value))
days = 365*2
date = seq(as.Date("2000-01-01"), length = days, by = "day")
year = year(date)
month = month(date)
x1 = cumsum(rnorm(days, 0.05))
x2 = cumsum(rnorm(days, 0.05))
df1 = data.frame(date, year, month, x1, x2)
require(lubridate)
install.packages("lubridate")
library(lubridate)
days = 365*2
date = seq(as.Date("2000-01-01"), length = days, by = "day")
year = year(date)
month = month(date)
x1 = cumsum(rnorm(days, 0.05))
x2 = cumsum(rnorm(days, 0.05))
df1 = data.frame(date, year, month, x1, x2)
df1
require(reshape2)
df_melt <- melt(df1, id = c("date", "year", "month"))
df_melt
head(df_melt)
head(df11)
head(df1)
dcast(df_melt, year + month ~ variable, sum)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
dcast(filter_dat, GroupName + ModelID + StrategyName + ResultType ~ variable, mean)
dcast(filter_dat, GroupName + ModelID + StrategyName + ResultType ~ variable, mean)
dcast(filter_dat, ~ variable, mean)
head(filter_dat)
dcast(filter_dat, GroupName + ModelID + StrategyName + ResultType variable ~ value.var = , mean)
dcast(filter_dat, GroupName + ModelID + StrategyName + ResultType variable ~ value, mean)
dcast(filter_dat, GroupName + ModelID + StrategyName + ResultType + variable ~ value, mean)
dcast(filter_dat, GroupName + ModelID + StrategyName + ResultType ~ value, mean)
dcast(filter_dat, GroupName + ModelID + StrategyName + ResultType, mean)
?plit
?split
n <- 10; nn <- 100
g <- factor(round(n * runif(n * nn)))
x <- rnorm(n * nn) + sqrt(as.numeric(g))
xg <- split(x, g)
g
xg
x
n <- 10; nn <- 100
g <- factor(round(n * runif(n * nn)))
x <- rnorm(n * nn) + sqrt(as.numeric(g))
xg <- split(x, g)
?ddply
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
head(dat)
str(dat)
tail(dat)
str(dat)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
str(ddply(dat, .(ModelID,StrategyName),summarise, mean_val = mean(value)))
a=ddply(dat, .(ModelID,StrategyName),summarise, mean_val = mean(value))
head(a)
G
a=ddply(dat, .(GroupName,ModelID,StrategyName,ResultType),summarise, mean_val = mean(value))
str(a)
head(a)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
head(total)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
G.catch
head(dat)
head(dat)
create_riskreward_table()
head(dat)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
head(dat)
head(dat)
head(dat_catch)
head(total)
head(dat_catch)
head(dat_biomass)
str(total)
create_riskreward_table()
head(total)
str(total)
str(dat_biomass)
dat_biomass[dat_biomass$ModelID==102,]
dat_biomass[dat_biomass$ModelID==2,]
total[total$ModelID==2,]
?merge
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
head(total)
head(total,100)
create_riskreward_table()
head(dat)
head(total)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
paste(plot.path,"RISK_REWARD_TABLES",GroupName,sep="")
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
?scan
?fread
library(data.table)
?fread
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
head(dat)
dat <- fread(G.biomass,skip=7, header=T)
head(dat)
rm(list = ls())
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
str(dat)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
head(dat)
head(dat)
str(dat)
GroupName
head(dat)
dat[1,1]
dat[1,2]
dat[1,3]
dat[2,1]
dat[2,2]
dat[1:5,1:5]
dat[1,]
dat[1,"GroupName"]
dat[1,GroupName]
dat[,GroupName]
dat[1,GroupName]
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
head(dat)
head(dat)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
head(dat)
tail(dat)
head(dat_biomass)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
total
total
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/Effort_Trajectories.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
params$plot.path
FILENAME
G
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
params$plot.path,"\\OUTPUT_GEARSbySTRATEGIES\\",FILENAME,"_PERCS.png"
paste(params$plot.path,"\\OUTPUT_GEARSbySTRATEGIES\\",FILENAME,"_PERCS.png", sep="")
FILENAME
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/share_tools.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/Effort_Trajectories.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
read.csv(G,skip=7, head=T)
G
G
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
G
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/Effort_Trajectories.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
params$plot.path,"\\OUTPUT_GEARSbySTRATEGIES\\",FILENAME,"_PERCS.png"
paste(params$plot.path,"\\OUTPUT_GEARSbySTRATEGIES\\",FILENAME,"_PERCS.png",sep="")
paste(params$RootPath,"/Effort/",G, sep='')
head(plotting_params$dat)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
G
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
head(dat)
data()
data
dat
filter(dat, variable>=39)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
file.create("C://Users/Mark/Dropbox/GAP2_MSE Plugin2/North Sea MultiAnnual Plan/Yearly_Results HCR type1 and 3/Plots/RISK_REWARD_TABLES")
file.create("C://Users/Mark/Dropbox/GAP2_MSE Plugin2/North Sea MultiAnnual Plan/Yearly_Results HCR type1 and 3/Plots/RISK_REWARD_TABLES")
dir.create("C://Users/Mark/Dropbox/GAP2_MSE Plugin2/North Sea MultiAnnual Plan/Yearly_Results HCR type1 and 3/Plots/RISK_REWARD_TABLES")
dir.create("C://Users/Mark/Dropbox/GAP2_MSE Plugin2/North Sea MultiAnnual Plan/Yearly_Results HCR type1 and 3/Plots/RISK_REWARD_TABLES/byGroup")
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
create_riskreward_table()
debugSource('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
cell = New SourceGrid2.Cells.Real.Cell(Rule.Targ_Or_Cons, Me.m_editorTarg_Or_Cons)
cell.Behaviors.Add(Me.EwEEditHandler)
Me(iHCR, eColumnTypes.Targ_Or_Cons) = cell
dat_landings
head(dat_landings)
names(dat_landings)[4]
names(dat_landings)[4]=Landings5YearMean
debugSource('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
debugSource('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
head(dat_landings)
head(both)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/riskrewardtable.R')
create_riskreward_table()
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
c(1,2)==c(1,2)
(c(1,2))==(c(1,2))
c(1,2)!=c(1,2)
sum(c(1,2)!=c(1,2))
sum(c(1,2)!=c(1,3))
help("tryCatch")
help("tryCatch")
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/Calc_average_quota_per_fleet_group_regulation.R')
remove.packages(dplyr)
library(dplyr)
install.packages("dplyr")
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/Calc_average_quota_per_fleet_group_regulation.R')
Average_Quota_Across_Models_And_RegTypes
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/Calc_average_quota_per_fleet_group_regulation.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/Calc_average_quota_per_fleet_group_regulation.R')
Average_Quota_Across_Models_And_RegTypes = function(Group, Fleet, RegulationType, ResultsPath)
{
FileData = LoadFile_ContainsListStrings(Dir.Path = paste(ResultsPath,"/HCRQuota_Targ/",sep=''), StringsInFileName = c(Group, Fleet))
UniqueStrategies = LoadUniqueStrategies(ResultsPath)
Strategies_OfRegType = SubsetVectorStrings_ContainingString(UniqueStrategies, RegulationType)
FileData = filter(FileData, StrategyName %in% Strategies_OfRegType)
return(as.numeric(colMeans(FileData[,6:ncol(FileData)])))
}
Plot_Average_Quotas = function(Path, Groups, Fleet, TimeStep, RegulationTypes)
{
Area_km2 = 570000
#Get all the groups to plot
#UniqueGroups = LoadUniqueGroups(Path)
df_Average_Quota = data.frame()
#Cycle across all groups to plot and extract the results putting them in a dataframe
for(iGroup in Groups)
{
print(iGroup)
for(iRegulation in RegulationTypes)
{
temp_mean_vals = Average_Quota_Across_Models_And_RegTypes(iGroup,Fleet,iRegulation,Path)
temp_mean_vals = temp_mean_vals * Area_km2
df_Average_Quota = rbind(df_Average_Quota, data.frame(TimeStep = TimeStep, GroupName = iGroup, Regulation = iRegulation, AverageQuota = temp_mean_vals))
}
}
#use ggplot to plot results - specify legends to be species and a column of different regulation types
print(qplot(TimeStep, AverageQuota, data=df_Average_Quota, geom=c("line"), color=GroupName, facets=Regulation~., main=Fleet))
}
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/PlotScript_AverageQuotaAcrossModelsAndRegTypes.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/PlotScript_AverageQuotaAcrossModelsAndRegTypes.R')
#Average Quota plot script
#Initialisation===========================================================================================================================================
rm(list=ls())
# Set to directory where this source code is
this.dir <- dirname(parent.frame(2)$ofile)
parent.frame(2)$ofile
setwd(this.dir)
source("Calc_average_quota_per_fleet_group_regulation.R")
library(dplyr)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/Calc_average_quota_per_fleet_group_regulation.R')
remove.packages(dplyr)
remove.packages("dplyr")
install.packages(dplyr)
install.packages("dplyr")
library(dplyr)
library(dplyr)
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/Calc_average_quota_per_fleet_group_regulation.R')
install.packages("dplyr")
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/Calc_average_quota_per_fleet_group_regulation.R')
install.packages("reshape")
install.packages("ggplot2")
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/Calc_average_quota_per_fleet_group_regulation.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/PlotScript_AverageQuotaAcrossModelsAndRegTypes.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/initialisation.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
iGroup
G
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/B_Trajectories.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
G
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/B_Trajectories.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
source('C:/Users/Mark/Desktop/MSE_Plugin_Results_Plotting/plotting 15July_2016_ChokeHighestValue_byFleet - Refactor.R')
